---
related:
- "[Page Fault Handling](../02-callflows/EXAMPLE.yml)"
tags:
- callflow
- page-fault
---
name: "Page Fault Handling (Read)"
description: "用户态读访问缺页异常的简化调用流程。"
entrypoint: "do_page_fault"
steps:
  - function: "do_page_fault"
    file: "arch/i386/mm/fault.c"
    notes: "x86 平台缺页异常处理入口：解析出 fault 地址并判断是否为合法访问。"
    calls: "handle_mm_fault"
  - function: "handle_mm_fault"
    file: "mm/memory.c"
    notes: "根据 fault 地址查找对应 VMA 并检查权限。"
    calls: "do_wp_page"
  - function: "do_wp_page"
    file: "mm/memory.c"
    notes: "处理写时复制 (COW) 类型的缺页；若页面被共享则分配新页并复制数据。"
    calls: "alloc_page"
  - function: "alloc_page"
    file: "include/linux/mm.h"
    notes: "包装宏：最终进入 buddy 分配器获取一个空闲物理页框。"
    calls: "alloc_pages"
